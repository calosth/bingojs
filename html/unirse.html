<html>
<head>
  <title> Bingo Protocol </title>

  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <script>
  	var gui = require("nw.gui");

  </script>
</head>

<body  style="-webkit-app-region: drag">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-4">
				<h4>Partidas Disponible</h4>
			</div>
			<div class="row">
				
			</div>
		</div>
	</div>
<script>

	var dgram = require('dgram');
	var listener = dgram.createSocket('udp4');
	var sender = dgram.createSocket('udp4');

	listener.on('listening', function(){
		var address = listener.address();
		console.log('UDP Server Listening on ' + address.address+ ':' +address.port);
	});
	listener.on('message',function(message,remote){
		console.log(remote.address + ':' + remote.port + ' - ' + message);
		alert(message);
	});
	listener.bind();


	var PORT = 41234;
	var HOST = '255.255.255.255';
	var message = new Buffer('{hola:"hola"}');

	sender.bind(function(){
		sender.setBroadcast(true);
	});

	sender.send(message, 0, message.length, PORT, HOST,	function(err, bytes){
		if(err) throw err;
		console.log('UDP message sent to ' + HOST + ' : ' + PORT);
		sender.close();
	});

</script>  

</body>
</html>
